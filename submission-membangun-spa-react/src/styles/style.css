/* ====== Tokens & Resets ====== */
:root {
  --space: 1rem;
  --radius: 12px;
  --border: #eaeaea;
  --muted: #666;
  --bg: #fafafa;
  --card: #ffffff;
}

* { box-sizing: border-box; }
body { font-family: system-ui, sans-serif; margin: 0; color: #141414; background: var(--bg); }
a { color: inherit; text-decoration: none; }

/* ====== Layout & Header/Footer ====== */
.container { max-width: 960px; margin: 0 auto; padding: 0 var(--space); }
.site-header { display: flex; align-items: center; justify-content: space-between; padding: 1rem 0; position: sticky; top: 0; background: var(--bg); }
.brand { font-weight: 700; }
.nav { display: flex; gap: .75rem; }
.nav a { padding: .5rem .75rem; border-radius: .5rem; }
.nav .primary { background: #111; color: #fff; }
.nav a:hover { background: #1111; }
.site-main { padding-bottom: 2rem; }
.site-footer { border-top: 1px solid #eaeaea; padding: 1rem 0; color: var(--muted); font-size: .9rem; }

/* ====== Typography & Helpers ====== */
h1, h2, h3 { margin: .5rem 0; }
.muted { color: var(--muted); font-size: .9rem; }
.empty { padding: 1.25rem; color: var(--muted); font-style: italic; text-align: center; border: 2px dashed #e5e7eb; border-radius: .75rem; background: #fafafa; }

/* ====== Grid (NoteList) ====== */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); /* lebih lega dari 260px */
  gap: 1.25rem;
}

/* ====== Card (NoteItem) ====== */
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem;                      /* lebih tebal dari .75rem */
  display: flex;
  flex-direction: column;
  gap: .5rem;
  transition: box-shadow .2s ease, transform .12s ease, border-color .2s ease;
  will-change: transform;
}
@media (hover: hover) {
  .card:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0,0,0,.08); border-color: #e2e2e2; }
}

/* Header card: judul & tanggal di satu baris */
.card-header {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: .75rem;
}
.card-title { 
  margin: 0; 
  font-size: 1.05rem; 
  font-weight: 700; 
  line-height: 1.3; 
}

.card-title a {
  display: -webkit-box;               /* clamp 1 baris */
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.card-header .muted { 
  flex-shrink: 0; 
  font-size: .85rem; 
  color: var(--muted); 
}

/* Isi card: ringkas 3 baris */
.card-body {
  color: #333;
  line-height: 1.5;
  display: -webkit-box;               /* clamp 3 baris tanpa ubah React */
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  min-height: 3.3em;                  /* jaga tinggi konsisten */
}

/* Aksi di bawah: rapi & responsif */
.card-actions {
  display: flex;
  align-items: center;
  gap: .5rem;
  margin-top: auto;                 /* tetap nempel bawah kartu */
  flex-wrap: nowrap;                /* default: sejajar satu baris */
}

/* Set ukuran & alignment tombol/link di dalam actions */
.card-actions > * {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex: 0 0 auto;
  line-height: 1;
  padding: .5rem .75rem;            /* samakan tinggi antar tombol */
}

/* Dorong elemen terakhir (mis. link Detail) ke kanan */
.card-actions > :last-child {
  margin-left: auto;
}

/* Responsif: di layar kecil, boleh wrap; tombol kanan pindah bawah full-width */
@media (max-width: 480px) {
  .card-actions {
    flex-wrap: wrap;
    gap: .45rem;
  }
  .card-actions > :last-child {
    order: 3;                       /* tampil paling bawah */
    margin-left: 0;
    width: 100%;                    /* lebar penuh agar rapi */
    justify-content: center;
  }
}


/* ====== Buttons ====== */
button, .button, input[type="submit"] {
  cursor: pointer;
  padding: .5rem .75rem;
  border-radius: .5rem;
  border: 1px solid #ddd;
  background: #fff;
  line-height: 1;
  transition: background .15s ease, border-color .15s ease, transform .06s ease;
}

button:hover, .button:hover, input[type="submit"]:hover { border-color: #cfcfcf; background: #f8f8f8; }
button:active { transform: translateY(1px); }
button:focus-visible { outline: 3px solid #7dd3fc; outline-offset: 2px; }

button.primary, .primary { background: #111; color: #fff; border-color: #111; }
button.ghost, .ghost { background: #fff; color: #111; border-color: #ddd; }
button.ghost:hover, .ghost:hover { border-color: #bbb; background: #f8f8f8; }
button.danger, .danger { background: #c62828; border-color: #c62828; color: #fff; }
button.danger:hover, .danger:hover { filter: brightness(.95); }

/* ====== Search & Forms ====== */
.search {
  width: 100%;
  padding: .6rem .8rem;
  border: 1px solid #ddd;
  border-radius: .5rem;
  margin: .5rem 0 1rem;
  transition: border-color .15s ease, box-shadow .15s ease;
}
.search:focus { outline: none; border-color: #60a5fa; box-shadow: 0 0 0 3px rgba(96,165,250,.2); }

.note-form { 
  display: grid; 
  gap: .75rem; 
}
.note-form label { 
  display: grid; 
  gap: .35rem; 
}
.note-form input[type="text"] { 
  padding: .6rem .8rem; 
  border: 1px solid #ddd; 
  border-radius: .5rem; 
}
.content-editable { 
  border: 1px solid #ddd; 
  border-radius: .5rem; 
  min-height: 160px; 
  padding: .6rem .8rem; 
  background: #fff; 
}
.content-editable:empty:before { 
  content: attr(data-placeholder); 
  color: #999; 
}
.form-actions { 
  display: flex; 
  gap: .5rem; 
}

/* ====== Detail Page ====== */
.detail { 
  background: #fff; 
  border: 1px solid #eee; 
  border-radius: .75rem; 
  padding: 1rem; 
}

.detail-header { 
  display: flex; 
  flex-direction: column; 
  gap: .35rem; 
  margin-bottom: .5rem; 
}

.detail-body p { 
  line-height: 1.6; 
}

/* ====== Row Actions (Detail) ====== */
.row-actions { 
  display: flex;
  gap: .5rem; 
  margin-top: .25rem; 
}

/* ========= Dark Theme: Gold / Amber ========= */
:root[data-theme="dark"] {
  --bg: #0b0b0b;
  --card: #121212;
  --border: #1f1f1f;

  /* warna utama & teks untuk dark */
  --text: #f7e7b0;              /* gold lembut sebagai teks utama */
  --muted: #c8bb8a;             /* gold redup untuk teks sekunder */
  --accent: #f59e0b;            /* amber/gold untuk tombol/link utama */
  --accent-contrast: #111;      /* teks di atas tombol amber */

  color-scheme: dark;
}

/* warna teks & background dasar */
:root[data-theme="dark"] body {
  color: var(--text);
  background: var(--bg);
}

/* kontainer kartu & border */
:root[data-theme="dark"] .card,
:root[data-theme="dark"] .detail {
  background: var(--card);
  border-color: var(--border);
}
:root[data-theme="dark"] .card:hover {
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  border-color: #2a2a2a;
}

:root[data-theme="dark"] .card-body,
:root[data-theme="dark"] .note-body,
:root[data-theme="dark"] .detail-body {
  color: #facc15; /* amber-400 */
}

/* heading & link */
:root[data-theme="dark"] h1,
:root[data-theme="dark"] h2,
:root[data-theme="dark"] h3,
:root[data-theme="dark"] a {
  color: var(--text);
}
:root[data-theme="dark"] .brand { color: var(--text); }
:root[data-theme="dark"] .muted { color: var(--muted); }

/* nav & tombol utama */
:root[data-theme="dark"] .nav .primary,
:root[data-theme="dark"] button.primary,
:root[data-theme="dark"] .primary {
  background: var(--accent);
  border-color: var(--accent);
  color: var(--accent-contrast);
}
:root[data-theme="dark"] .nav a:hover {
  background: rgba(245, 158, 11, 0.12);
}

/* tombol umum */
:root[data-theme="dark"] button,
:root[data-theme="dark"] .button,
:root[data-theme="dark"] input[type="submit"] {
  background: #171717;
  border-color: #2a2a2a;
  color: var(--text);
}
:root[data-theme="dark"] button:hover,
:root[data-theme="dark"] .button:hover,
:root[data-theme="dark"] input[type="submit"]:hover {
  border-color: #3a3a3a;
  background: #1c1c1c;
}

/* tombol ghost mengikuti aksen gold */
:root[data-theme="dark"] button.ghost,
:root[data-theme="dark"] .ghost {
  background: transparent;
  color: var(--text);
  border-color: #3a300f; /* gelap kekuningan */
}
:root[data-theme="dark"] button.ghost:hover,
:root[data-theme="dark"] .ghost:hover {
  background: rgba(245, 158, 11, 0.08);
  border-color: #6b4c08;
}

/* tombol danger tetap merah tapi disesuaikan dengan dark */
:root[data-theme="dark"] button.danger,
:root[data-theme="dark"] .danger {
  background: #b91c1c;
  border-color: #b91c1c;
  color: #fff7ed;
}
:root[data-theme="dark"] button.danger:hover,
:root[data-theme="dark"] .danger:hover {
  filter: brightness(.95);
}

/* focus ring bernuansa gold */
:root[data-theme="dark"] button:focus-visible,
:root[data-theme="dark"] .button:focus-visible,
:root[data-theme="dark"] input[type="submit"]:focus-visible,
:root[data-theme="dark"] .search:focus {
  outline: 3px solid rgba(245, 158, 11, 0.55);
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.22);
  border-color: #d97706;
}

/* search input & text fields */
:root[data-theme="dark"] .search,
:root[data-theme="dark"] .note-form input[type="text"],
:root[data-theme="dark"] .note-form input[type="email"],
:root[data-theme="dark"] .note-form input[type="password"],
:root[data-theme="dark"] .content-editable {
  background: #0f0f0f;
  color: var(--text);
  border: 1px solid #2a2a2a;
}
:root[data-theme="dark"] .content-editable:empty:before { color: #8a7a47; }

/* badge (contoh: Arsip) bernuansa amber */
:root[data-theme="dark"] .badge {
  border-color: #6b4c08;
  background: rgba(245, 158, 11, 0.12);
  color: #facc15; /* yellow-400 */
}

/* empty state */
:root[data-theme="dark"] .empty {
  color: var(--muted);
  border-color: #2a2a2a;
  background: #0f0f0f;
}

/* link hover di card-title */
:root[data-theme="dark"] .card-title a:hover {
  text-decoration: underline;
  text-decoration-color: rgba(245, 158, 11, .7);
}

/* header & footer strip */
:root[data-theme="dark"] .site-footer {
  border-top-color: #1f1f1f;
  color: var(--muted);
}
:root[data-theme="dark"] .site-header {
  background: var(--bg);
}
